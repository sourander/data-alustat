
<!doctype html>
<html lang="fi" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../kerrokset/serving/">
      
      
        <link rel="next" href="../kuutio/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>Tietomalli - Data-alustat</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tietokantojen-ja-tietovarastojen-tietomallit" class="md-skip">
          Hyppää sisältöön
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Ylätunniste">
    <a href="../.." title="Data-alustat" class="md-header__button md-logo" aria-label="Data-alustat" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Data-alustat
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tietomalli
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Hae" placeholder="Hae" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Haku">
        
        <button type="reset" class="md-search__icon md-icon" title="Tyhjää" aria-label="Tyhjää" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Aloitetaan hakua
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigaatio" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Data-alustat" class="md-nav__button md-logo" aria-label="Data-alustat" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Data-alustat
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tervetuloa kurssille
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Data-alustat
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data-alustat
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_alustat/historia/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Historia
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_alustat/hyodyt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hyödyt bisnekselle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_alustat/arkkitehtuurit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Arkkitehtuurit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_alustat/olap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OLAP vs OLTP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_alustat/terminologia/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Terminologia
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Kerrokset
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Kerrokset
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kerrokset/ingestion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ingestion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kerrokset/storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kerrokset/processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kerrokset/serving/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Serving
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tietomalli
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tietomalli
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Tietomalli
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Tietomalli
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Sisällysluettelo">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Sisällysluettelo
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tietokantojen-ja-tietovarastojen-tietomallit" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tietokantojen ja tietovarastojen tietomallit
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalisoitu-vai-ei" class="md-nav__link">
    <span class="md-ellipsis">
      
        Normalisoitu vai ei
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avaintyypit" class="md-nav__link">
    <span class="md-ellipsis">
      
        Avaintyypit
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Avaintyypit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tekninen-nakokulma" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tekninen näkökulma
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tekninen näkökulma">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paaavain-primary-key" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pääavain (primary key)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viiteavain-foreign-key" class="md-nav__link">
    <span class="md-ellipsis">
      
        Viiteavain (foreign key)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#liiketoiminnan-nakokulma" class="md-nav__link">
    <span class="md-ellipsis">
      
        Liiketoiminnan näkökulma
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Liiketoiminnan näkökulma">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sijaisavain-surrogate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sijaisavain (surrogate)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#luonnollinen-natural-avain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Luonnollinen (natural) avain
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bisnesavain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bisnesavain
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yleisimmat-mallinnusmenetelmat" class="md-nav__link">
    <span class="md-ellipsis">
      
        Yleisimmät mallinnusmenetelmät
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Yleisimmät mallinnusmenetelmät">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inmon" class="md-nav__link">
    <span class="md-ellipsis">
      
        Inmon
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kimball" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kimball
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-vault" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Vault
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kuutio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OLAP-kuutio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Sisällysluettelo">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Sisällysluettelo
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tietokantojen-ja-tietovarastojen-tietomallit" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tietokantojen ja tietovarastojen tietomallit
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalisoitu-vai-ei" class="md-nav__link">
    <span class="md-ellipsis">
      
        Normalisoitu vai ei
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avaintyypit" class="md-nav__link">
    <span class="md-ellipsis">
      
        Avaintyypit
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Avaintyypit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tekninen-nakokulma" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tekninen näkökulma
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tekninen näkökulma">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paaavain-primary-key" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pääavain (primary key)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viiteavain-foreign-key" class="md-nav__link">
    <span class="md-ellipsis">
      
        Viiteavain (foreign key)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#liiketoiminnan-nakokulma" class="md-nav__link">
    <span class="md-ellipsis">
      
        Liiketoiminnan näkökulma
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Liiketoiminnan näkökulma">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sijaisavain-surrogate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sijaisavain (surrogate)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#luonnollinen-natural-avain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Luonnollinen (natural) avain
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bisnesavain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bisnesavain
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yleisimmat-mallinnusmenetelmat" class="md-nav__link">
    <span class="md-ellipsis">
      
        Yleisimmät mallinnusmenetelmät
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Yleisimmät mallinnusmenetelmät">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inmon" class="md-nav__link">
    <span class="md-ellipsis">
      
        Inmon
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kimball" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kimball
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-vault" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Vault
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Tietomalli</h1>

<p>Tietomallilla tarkoitetaan sitä, kuinka tieto on tallennettu tauluihin ja miten taulut liittyvät toisiinsa. Tässä kurssimateriaalissa on jo esitelty kaksi tietomallia: One Big Table ja normalisoitui (1-3NF). Kertaa nämä <a href="../../data_alustat/historia/">Historia</a>-osiossa.</p>
<h2 id="tietokantojen-ja-tietovarastojen-tietomallit">Tietokantojen ja tietovarastojen tietomallit</h2>
<p>Operatiivisten tuotantokantojen tietomalli rakennetaan sovelluksen tarpeen mukaan, joten kahden eri tuotantokannan tietomallit voivat olla keskenään hyvinkin poikkeavia. Tyypillisin tietomalli on relaatiotietokanta, jossa data on tallennettu tauluihin ja tietokanta noudattaa vähintään ensimmäisen asteen normaalimuotoa, mutta käytössä on jatkuvasti enenevissä määrin muita tietokantatyyppejä, kuten dokumentti- tai graafitietokantoja. Näiden relaatiotietokannoista poikkeavien kantatyyppien yleisnimenä on NoSQL. Eräänlainen hybridi on kanta, joka on tavallinen relaatiokanta, mutta applikaation ymmärtämä data upotetaan BLOB tai JSON -kenttään, jolloin skeema voi muuttua ajan yli, vaikka itse taulun skeema pysyisi samana.</p>
<p>TODO: SQL-esimerkki vielä kertauksen vuoksi</p>
<p>TODO: noSQL-esimerkki</p>
<p>Tietovarastojen tietomallien diversiteetti on sen sijaan huomattavasti kapeampi; tietovarastot noudattavat lähes poikkeuksetta tähtiskeemaa ja mukailevat Kimballin dimensiomallia, ainakin ulommilla kerroksilla. Tietovarastojen tietomalli rakennetaan yrityksen prosessien ja tietovaraston käyttäjien tarpeiden mukaan. Näin ollen operatiivisten kantojen ja ietovarastojen tietomallit rakennetaan hyvin erilaisista lähtökohdista; kummassakin on sama informaatio, mutta eri tavoin järjesteltynä.</p>
<h2 id="normalisoitu-vai-ei">Normalisoitu vai ei</h2>
<p>Tietovarasto ei hyödy normalisoinnista, ainakaan samoissa määrin kuin operatiivinen kanta, koska tietovaraston käyttötarkoitus ei ole palvella sovellusta tai käyttäjää nopeilla rivikohtaisilla luku- ja kirjoitusoperaatioilla. Tietovarastoon tuotu data muokataan usein toisenlaiseen tietomalliin: tähtiskeemaan. On mainittavan arvoista, että ennen tähtiskeemaa tietovarastossa voi olla esimerkiksi Data Vault 2.0 -tyylinen kerros, joka on jossain määrin hybridi normalisoidun ja tähtimallin välillä, ja sisältää muun muassa rivien historiatietoa.</p>
<p>Tähtiskeema koostuu fakta- ja dimensiotauluista. Faktataulut mallintavat yrityksen prosesseja. Faktataulu on nimeltään esimerkiksi <code>fact_sales</code>, jonka yksittäinen rivi on myyntioperaatio tai kuittirivi sisältäen tuotteen senhetkisen hinnan ja alennushinnan. Tähän liittyvä dimensiotaulu on esimerkiksi <code>dim_product</code>, jonka  yksittäinen rivi kuvastaa tuotetta, tai dim_customer, jonka yksittäinen rivi kuvastaa asiakasta.  Yhteen faktatauluun liittyy monta dimensiota. Näin syntyy tähti, jossa keskiössä on faktataulu, ja  tähden sarakkeet ovat dimensiotauluja. Tähtiskeema sisältää redundanttia, toistuvaa tietoa, joten taulut ovat fyysisesti (tavuina mitattuna) huomattavasti suurempia kuin mitä niiden alkuperäiset tietolähteet eli normalisoidut relaatiotaulut. Dimensiotaulut ovat usein myös hyvin leveitä:  niissä voi kymmeniä tai satoja sarakkeita. Denormalisoitu dimensiotaulu saa ja voi sisältää toisistaan riippuvia sarakkeita, kuten: syntymäpäivä ja ikä; pituus, leveys ja pinta-ala; päivämäärä ja viikonpäivä. Normalisoidussa kannassa nämä tietoparit nähtäisiin redundantteina, koska niillä on riippuvuus; yhden arvon voi laskea toisesta.</p>
<h2 id="avaintyypit">Avaintyypit</h2>
<h3 id="tekninen-nakokulma">Tekninen näkökulma</h3>
<p>Pääavain ja viiteavain ovat siinä mielessä teknisen tason avaimia, että ne eivät välttämättä ole liiketoimintalähtöisiä. Niitä tarvitaan relaatioiden luomiseen ja tietojen yhdistämiseen, mutta ne eivät välttämättä kerro mitään liiketoiminnasta tai sen prosesseista. Teknisen tason avaimet ovat yleensä yksinkertaisia ja helposti ymmärrettäviä, mutta ne eivät <em>välttämättä</em> ole liiketoimintalähtöisiä.</p>
<p>Aavain voi koostua useammasta kuin yhdestä attribuutista. Tällöin puhutaan yhdistelmäavaimesta (composite key). </p>
<h4 id="paaavain-primary-key">Pääavain (primary key)</h4>
<p>Kolme seuraavaa termiä on hyvä tuntea. Ne voi käsittää Venn-diagrammin tyyliin siten, että ylempi termi on aina seuraavan kattokäsite:</p>
<ul>
<li>Yliavain (superkey)</li>
<li>Kandidaattiavain (candidate key)</li>
<li>Pääavain (primary key)</li>
</ul>
<p>Yliavain on yksi tai useampi kenttä, jotka yksilöivät tietueen taulussa. Kandidaattiavain on minimaalinen avain, eli suppein yhdistelmäavain, joka yhä yksilöi tietueen taulussa. Kandidaattiavaimista voidaan valita yksi avain, joka on taulun pääavain (primary key). Pääavaimen arvoa ei saa muuttaa eikä se saa sisältää tietoa, joka voi muuttua. Pääarvo ei myöskään voi olla NULL. <sup id="fnref:grokking_relational"><a class="footnote-ref" href="#fn:grokking_relational">1</a></sup></p>
<h4 id="viiteavain-foreign-key">Viiteavain (foreign key)</h4>
<p>Viiteavain (foreign key) on attribuutti tai attribuuttien joukko, joka viittaa toisen taulun pääavaimeen. Viiteavain luo suhteen kahden taulun välille ja mahdollistaa tietojen yhdistämisen.</p>
<h3 id="liiketoiminnan-nakokulma">Liiketoiminnan näkökulma</h3>
<p>Pääavain ja viiteavain ovat teknisen tason avaimia, kun taas liiketoimintalähtöiset avaimet ovat liiketoimintalähtöisiä. Taulun tasolla ne voivat olla yhä samoja avaimia: primääriavain voi esimerkiksi olla sijaisavain tai luonnollinen avain. Jako on nimenomaan se, että onko <em>katsojan näkökulmasta</em> avain luonnollinen vai ei.</p>
<h4 id="sijaisavain-surrogate">Sijaisavain (surrogate)</h4>
<p>Sijaisavain on sellainen avain, jolla ei (alunperin) ole liiketoiminnallista tai reaalimaailman merkitystä. Tyypillisesti se on SQL-lausekkeella <code>AUTO_INCREMENT</code> tai <code>SERIAL</code> luotu kokonaisluku, joka on uniikki ja kasvaa automaattisesti aina kun tauluun lisätään uusi rivi. Alla simppeli esimerkki</p>
<table>
<thead>
<tr>
<th>this_is_a_surrogate_key</th>
<th>name</th>
<th>age</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
<td>25</td>
</tr>
<tr>
<td>2</td>
<td>Jane</td>
<td>30</td>
</tr>
<tr>
<td>3</td>
<td>Jack</td>
<td>35</td>
</tr>
</tbody>
</table>
<h4 id="luonnollinen-natural-avain">Luonnollinen (natural) avain</h4>
<p>Luonnollinen avain on yksi tai useampi attribuutti, joka yksilöi tietueen taulussa ja jolla on <strong>liiketoiminnallinen merkitys</strong>.</p>
<p>Luonnollisen avaimen (natural key) määritelmä riippuu hieman siitä, käsitelläänkö tietoa lähdejärjestelmän vai tietovaraston näkökulmasta <strong>Tiukan määritelmän</strong> mukaan luonnollinen avain esiintyy järjestelmän ulkopuolella sinällään, ja sillä on sisäänrakennettu merkitys. Esimerkkejä ovat henkilötunnus, kirjan ISBN, digitaalisen lähteen DOI, laitteen sarjanumero, sähköpostiosoite tai kojelaudalta löytyvä VIN. Jopa (firstname, surname, birthdate) -yhdistelmäavainta voidaan pitää luonnollisena avaimena, joskin riski on, että se ei ole uniikki. <sup id="fnref:dataquality"><a class="footnote-ref" href="#fn:dataquality">2</a></sup> </p>
<p>Tietovaraston näkökulmasta voidaan käyttää <strong>löyhempää määritelmää</strong> siten, että esimerkiksi autoinkrementin tai satunnaisuuden avulla luotu <strong>CustomerID</strong> voi olla <mark>tietovaraston silmin</mark> luonnollinen avain, <em>vaikka</em> se onkin keinotekoisesti luotu, ja lähdejärjestelmän näkökulmasta aivan selkeä sijaisavain. Tietovaraston näkökulmasta sillä on kuitenkin jo selkeä merkitys: se edustaa yksilöllisesti tunnistettavaa asiakasta tosimaailmassa eli siinä järjestelmässä, mistä tieto on haettu. Käyttäjä <code>123</code> on sama käyttäjä <code>123</code> nyt ja aina. Jos tietoa haetaan useista järjestelmistä, täytyy kuitenkin huomioida, että eri järjestelmissä voi olla päällekäisiä ID-numeroita.</p>
<p>Tietovarastossa voidaan luoda uusia surrogaattiavaimia jos sille on tarvetta. Yksi tarve on <em>hash surrogate key</em>, joka luodaan esimerkiksi silloin, jos lähdetaulun primääriavain koostuu useista kentistä, ja tietovarasto hyötyy yksittäisestä uniikista kentästä (esimerkiksi CDC-prosessissa). Se voidaan laskea myös bisnesavaimesta Data Vault -mallinnuksen yhteydessä (ks. alta).</p>
<h4 id="bisnesavain">Bisnesavain</h4>
<p>Jos kahdesta eri järjestelmästä poimitut tietueet voidaan yhdistää valittujen attribuuttien avulla, voimme puhua <em>business key</em> -kentistä. Tällöin kentät ovat luonnollisesti <em>luonnollisia</em> avaimia. <sup id="fnref:scalable_dw_with_data_vault"><a class="footnote-ref" href="#fn:scalable_dw_with_data_vault">3</a></sup></p>
<p><strong>Esimerkki</strong>: System A:n käyttäjä <code>123</code> ja System B:n käyttäjä <code>0000325</code> ovat sama henkilö, jotka tunnistetaan kentillä: <code>(firstname, surname, birthdate)</code>. Tähän termiin törmäät Data Vault -mallinnuksessa ja Master Data Management -yhteyksissä.</p>
<p>Parempi ratkaisu on luonnollisesti keskitetty käyttäjähallinta, SSO (single sign-on) tai jokin muu tapa, jolla käyttäjät tunnistetaan ja hallitaan keskitetysti. Tällöin käyttäjät voivat käyttää useita järjestelmiä yhdellä ja samalla tunnuksella, ja käyttäjätiedot ovat aina ajan tasalla, ilman että niitä tarvitsee synkronoida eri järjestelmien välillä. GDPR:n kannalta on ongelmallista, jos et tiedä, keitä sinun asiakkaasi ovat, tai jos päättelet omatoimisesti, kuka asiakas on yhdistelemällä useiden järjestelmien tietoja kertomatta asiakkaalle tästä prosessista.</p>
<h2 id="yleisimmat-mallinnusmenetelmat">Yleisimmät mallinnusmenetelmät</h2>
<h3 id="inmon">Inmon</h3>
<p>TODO: Selitä.</p>
<h3 id="kimball">Kimball</h3>
<p>TODO: Selitä.</p>
<h3 id="data-vault">Data Vault</h3>
<p>TODO: Selitä.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:grokking_relational">
<p>Hao, Q. % Tsikerdekis, M. <em>Grokking Relational Database Design</em>. Manning Publications. 2025.&#160;<a class="footnote-backref" href="#fnref:grokking_relational" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:dataquality">
<p>Olson, J. <em>Data Quality</em>. Morgan Kaufmann. 2003.&#160;<a class="footnote-backref" href="#fnref:dataquality" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:scalable_dw_with_data_vault">
<p>Linstedt, D. &amp; Olschimke, M. <em>Building a Scalable Data Warehouse with Data Vault 2.0</em>. Morgan Kaufmann. 2015.&#160;<a class="footnote-backref" href="#fnref:scalable_dw_with_data_vault" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026 <a href="https://www.kamk.fi">Kajaanin Ammattikorkeakoulu Oy</a>. 
Licenced under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">BY-NC-SA 4.0</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "content.code.annotate", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Kopioitu leikep\u00f6yd\u00e4lle", "clipboard.copy": "Kopioi leikep\u00f6yd\u00e4lle", "search.result.more.one": "1 lis\u00e4\u00e4 t\u00e4ll\u00e4 sivulla", "search.result.more.other": "# lis\u00e4\u00e4 t\u00e4ll\u00e4 sivulla", "search.result.none": "Ei t\u00e4sm\u00e4\u00e4vi\u00e4 dokumentteja", "search.result.one": "1 t\u00e4sm\u00e4\u00e4v\u00e4 dokumentti", "search.result.other": "# t\u00e4sm\u00e4\u00e4v\u00e4\u00e4 dokumenttia", "search.result.placeholder": "Kirjoita aloittaaksesi haun", "search.result.term.missing": "Puuttuu", "select.version": "Valitse versio"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>